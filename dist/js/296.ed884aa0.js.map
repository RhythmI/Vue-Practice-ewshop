{"version":3,"file":"js/296.ed884aa0.js","mappings":"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","sources":["webpack://ewshop/./src/components/content/goods/GoodsList.vue","webpack://ewshop/./src/components/content/goods/GoodsListItem.vue","webpack://ewshop/./src/components/content/goods/GoodsListItem.vue?b4c2","webpack://ewshop/./src/components/content/goods/GoodsList.vue?edb4","webpack://ewshop/./src/views/home/Home.vue","webpack://ewshop/./src/views/home/ChildComps/RecommendView.vue","webpack://ewshop/./src/views/home/ChildComps/RecommendView.vue?9d03","webpack://ewshop/./src/components/content/tabControl/TabControl.vue","webpack://ewshop/./src/components/content/tabControl/TabControl.vue?0297","webpack://ewshop/./src/views/home/ChildComps/HomeSwiper.vue","webpack://ewshop/./src/views/home/ChildComps/HomeSwiper.vue?2607","webpack://ewshop/./src/views/home/Home.vue?d8ad"],"sourcesContent":["<template>\r\n<div class=\"goods\">\r\n\r\n  <goods-list-item v-for=\"item in goods\" :product=\"item\" :key=\"item\"></goods-list-item>\r\n\r\n\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport GoodsListItem from \"@/components/content/goods/GoodsListItem\";\r\n\r\nexport default {\r\n  name: \"GoodsList\",\r\n  components:{\r\n    GoodsListItem,\r\n  },\r\n  props:{\r\n    goods: {\r\n      type: Array,\r\n      default(){\r\n        return []\r\n      }\r\n    }\r\n  }\r\n\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n\r\n.goods{\r\n  display: flex;  /*弹性盒布局，默认全放在一行*/\r\n  flex-wrap: wrap;  /*摆放不下时自动换行*/\r\n  justify-content: space-around;\r\n  padding: 5px;\r\n}\r\n\r\n\r\n</style>","<template>\r\n<div class=\"goods-item\" @click=\"itemClick\">\r\n\r\n<!--  <img src=\"~assets/images/围城.png\" alt=\"\">-->\r\n<!--  <div class=\"goods-info\">-->\r\n<!--    <p>标题</p>-->\r\n<!--    <span class=\"price\"><small>￥</small>100</span>-->\r\n<!--    <span class=\"collect\">33</span>-->\r\n<!--  </div>-->\r\n\r\n\r\n<!--  <img :src=\"product.cover_url\" alt=\"\">-->\r\n  <img v-lazy=\"product.cover_url\" alt=\"\">\r\n  <div class=\"goods-info\">\r\n    <p>{{product.title}}</p>\r\n    <span class=\"price\"><small>￥</small>{{product.price}}</span>\r\n    <span class=\"collect\">{{product.collects_count}}</span>\r\n  </div>\r\n  \r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {useRouter} from \"vue-router\";\r\n\r\nexport default {\r\n  name: \"GoodsListItem\",\r\n  props:{\r\n    product: {\r\n      type: Object,\r\n      default(){\r\n        return {}\r\n      }\r\n    }\r\n  },\r\n  setup(props){  // setup也可以传属性，使用时直接 props.product.xx\r\n    const router = useRouter();\r\n\r\n    return {\r\n      itemClick: ()=>{\r\n        router.push({path:'/detail', query:{id:props.product.id}})\r\n      },\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n\r\n<style scoped lang=\"scss\">\r\n\r\n.goods-item {\r\n  width: 46%;  /*一行中放 2 个书，中间有 8% 空隙*/\r\n  padding-bottom: 40px;\r\n  position: relative;  /*相对位置*/\r\n\r\n  img {\r\n    width: 100%;\r\n    height: 150px;\r\n    border-radius: 5px;  /*加圆角*/\r\n  }\r\n\r\n  .goods-info{\r\n    font-size: 12px;\r\n    position: absolute;  /*绝对位置*/\r\n    bottom: 5px;\r\n    left: 0;\r\n    right: 0;\r\n    overflow: hidden;  /*超出盒子时，隐藏*/\r\n    text-align: center;\r\n    p{\r\n      overflow: hidden;  /*标题很长时，隐藏*/\r\n      text-overflow: ellipsis;  /*并且超出时出现 ... 的缩放*/\r\n      white-space: nowrap;  /*空白处 不交换*/\r\n      margin-bottom: 3px;\r\n    }\r\n\r\n    .price{\r\n      color: red;\r\n      margin-right: 20px;\r\n    }\r\n\r\n    .collect{\r\n      position: relative;\r\n    }\r\n    .collect::before{  /*collect类的前面  使用伪元素*/\r\n      content: '';  /*无内容*/\r\n      position: absolute;\r\n      left: -15px;\r\n      width: 14px;\r\n      height: 14px;\r\n      top: -1px;\r\n      background: url(\"~assets/images/collect.png\") 0 0/14px 14px;  /*加图片*/\r\n    }\r\n\r\n  }\r\n\r\n\r\n}\r\n\r\n</style>","import { render } from \"./GoodsListItem.vue?vue&type=template&id=2ca3dc36&scoped=true\"\nimport script from \"./GoodsListItem.vue?vue&type=script&lang=js\"\nexport * from \"./GoodsListItem.vue?vue&type=script&lang=js\"\n\nimport \"./GoodsListItem.vue?vue&type=style&index=0&id=2ca3dc36&scoped=true&lang=scss\"\n\nimport exportComponent from \"D:\\\\1Master\\\\work\\\\前端\\\\Vue高洛峰\\\\myproject\\\\vueproject\\\\ewshop\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2ca3dc36\"]])\n\nexport default __exports__","import { render } from \"./GoodsList.vue?vue&type=template&id=891873b0&scoped=true\"\nimport script from \"./GoodsList.vue?vue&type=script&lang=js\"\nexport * from \"./GoodsList.vue?vue&type=script&lang=js\"\n\nimport \"./GoodsList.vue?vue&type=style&index=0&id=891873b0&scoped=true&lang=scss\"\n\nimport exportComponent from \"D:\\\\1Master\\\\work\\\\前端\\\\Vue高洛峰\\\\myproject\\\\vueproject\\\\ewshop\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-891873b0\"]])\n\nexport default __exports__","<template>\r\n  <div id=\"home\">\r\n    \r\n    <nav-bar>\r\n<!--      <template v-slot:left>&lt;</template>  &lt;!&ndash; &lt; 是 <    &ndash;&gt;-->\r\n      <template v-slot:default>图书商城</template>\r\n    </nav-bar>\r\n\r\n    <tab-control v-show=\"isTabFixed\" @tabClick=\"tabClick\" :titles=\"['畅销', '新书', '精选']\"></tab-control>\r\n\r\n\r\n    <div class=\"wrapper\">\r\n      <div class=\"content\">\r\n\r\n        <div ref=\"banref\">\r\n\r\n<!--          <div class=\"banners\">-->\r\n<!--            <img src=\"~assets/images/2.png\" alt=\"\">-->\r\n<!--          </div>-->\r\n          <home-swiper :banners=\"banners\"></home-swiper>\r\n\r\n          <recommend-view :recommends=\"recommends\"></recommend-view>\r\n        </div>\r\n\r\n        <tab-control @tabClick=\"tabClick\" :titles=\"['畅销', '新书', '精选']\"></tab-control>\r\n\r\n        <goods-list :goods=\"showGoods\"></goods-list>\r\n\r\n      </div>\r\n    </div>\r\n\r\n  <back-top @bTop=\"bTop\" v-show=\"isShowBackTop\"></back-top>\r\n\r\n    \r\n  </div>\r\n\r\n</template>\r\n\r\n<script>\r\nimport NavBar from \"components/common/navbar/NavBar\";\r\nimport RecommendView from \"@/views/home/ChildComps/RecommendView\";\r\nimport TabControl from \"@/components/content/tabControl/TabControl\";\r\nimport GoodsList from \"@/components/content/goods/GoodsList\";\r\nimport BScroll from 'better-scroll'\r\nimport BackTop from \"@/components/common/backtop/BackTop\";\r\nimport HomeSwiper from \"@/views/home/ChildComps/HomeSwiper\";\r\n\r\nimport {getHomeAllData, getHomeGoods} from \"@/network/home\";\r\nimport {ref, reactive, onMounted, computed, watchEffect, nextTick} from \"vue\";\r\n\r\n\r\nexport default {\r\n  name: \"Home\",\r\n  setup(){\r\n\r\n    let isTabFixed = ref(false);\r\n    let isShowBackTop = ref(false);\r\n    let banref = ref(null);\r\n\r\n    const recommends = ref([]);\r\n\r\n    // 商品列表数据模型\r\n    const goods = reactive({\r\n      sales:{page: 1, list:[]},\r\n      recommend:{page: 1, list:[]},\r\n      new:{page: 1, list:[]}\r\n    })\r\n\r\n    let currentType = ref('sales');\r\n\r\n    const showGoods = computed(()=>{\r\n      return goods[currentType.value].list;\r\n    })\r\n\r\n    let bscroll = reactive({});\r\n\r\n    let banners = ref([]);\r\n\r\n    onMounted(()=>{\r\n      getHomeAllData().then(res=>{\r\n        // console.log(res.goods);\r\n        recommends.value = res.goods.data;\r\n\r\n        banners.value = res.slides;\r\n        // console.log(res.slides);\r\n\r\n      });\r\n\r\n      getHomeGoods('sales').then(res=>{\r\n        goods.sales.list = res.goods.data;\r\n      })\r\n      getHomeGoods('recommend').then(res=>{\r\n        goods.recommend.list = res.goods.data;\r\n      })\r\n      getHomeGoods('new').then(res=>{\r\n        goods.new.list = res.goods.data;\r\n      })\r\n\r\n      // console.log(goods);\r\n\r\n      // 创建BetterScroll对象\r\n      bscroll = new BScroll(document.querySelector('.wrapper'), {\r\n        probeType:3,  // 0,1,2,3   3:只要在运动就触发scroll事件\r\n        click: true,  // 是否允许点击\r\n        pullUpLoad: true,  // 上拉加载更多，默认是false\r\n      });\r\n\r\n\r\n      // 触发滚动事件\r\n      bscroll.on('scroll', (position)=>{\r\n        console.log(banref.value.offsetHeight);\r\n        console.log(-position.y);\r\n\r\n        isShowBackTop.value = isTabFixed.value = (-position.y > banref.value.offsetHeight);\r\n\r\n      })\r\n\r\n      // 上拉加载数据，触发pullingUp\r\n      bscroll.on('pullingUp', ()=>{\r\n        console.log('上拉加载更多。。。');\r\n        console.log('contentHeight'+document.querySelector('.content').clientHeight);\r\n\r\n        const page = goods[currentType.value].page + 1;\r\n\r\n        getHomeGoods(currentType.value, page).then(res=>{\r\n          goods[currentType.value].list.push(...res.goods.data);\r\n          goods[currentType.value].page += 1;\r\n        })\r\n\r\n        // 完成上拉，等数据请求完成，要将新数据展示出来\r\n        bscroll.finishPullUp();\r\n\r\n\r\n        // 重新计算高度\r\n        bscroll.refresh();\r\n        console.log('contentHeight'+document.querySelector('.content').clientHeight);\r\n        console.log(\"当前类型\" + currentType.value + \", 当前页：\" + page);\r\n      })\r\n\r\n\r\n    })\r\n\r\n    const tabClick = (index) => {\r\n      let types = ['sales', 'new', 'recommend']\r\n      currentType.value = types[index];\r\n\r\n      nextTick(()=>{\r\n        // 重新计算高度\r\n        bscroll && bscroll.refresh();\r\n      })\r\n\r\n    }\r\n\r\n    // 监听  任何一个变量有变化就会触发\r\n    watchEffect(()=>{\r\n      nextTick(()=>{\r\n        // 重新计算高度\r\n        bscroll && bscroll.refresh();\r\n      })\r\n    })\r\n\r\n\r\n    const bTop = () =>{\r\n      bscroll.scrollTo(0,0, 500);  // 滚动到(0,0)位置，500ms\r\n    }\r\n\r\n\r\n    return{\r\n      recommends,\r\n      tabClick,\r\n      goods,\r\n      showGoods,\r\n      isTabFixed,\r\n      banref,\r\n      isShowBackTop,\r\n      bTop,\r\n      banners,\r\n    }\r\n  },\r\n  components:{\r\n    NavBar,\r\n    RecommendView,\r\n    TabControl,\r\n    GoodsList,\r\n    BackTop,\r\n    HomeSwiper\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n.banners img{\r\n  width: 100%;\r\n  height: 200px;\r\n}\r\n\r\n#home{\r\n  height: 100vh;  /*占领整个屏幕的高度*/\r\n  position: relative;\r\n}\r\n\r\n  .wrapper{\r\n    position: absolute;\r\n    top: 45px;\r\n    bottom: 50px;\r\n    left: 0;\r\n    right: 0;\r\n    overflow: hidden;\r\n  }\r\n    .content{\r\n\r\n    }\r\n\r\n\r\n</style>","<template>\r\n<div class=\"recommend\">\r\n\r\n  <div class=\"recommend-item\" v-for=\"item in recommends.slice(0,4)\" :key=\"item.id\">\r\n    <a href=\"\" @click.prevent = \"goDetail(item.id)\">\r\n<!--      <img src=\"~assets/images/围城.png\" alt=\"\">-->\r\n<!--      <img :src=\"item.cover_url\" alt=\"\">-->\r\n      <img v-lazy=\"item.cover_url\" alt=\"\">\r\n      <div>{{item.title}}</div>\r\n    </a>\r\n  </div>\r\n\r\n\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {useRouter} from \"vue-router\";\r\n\r\nexport default {\r\n  name: \"RecommendView\",\r\n  props:{\r\n    recommends:{\r\n      type: Array,\r\n      default(){\r\n        return [];\r\n      }\r\n    }\r\n  },\r\n  setup(){\r\n    const router = useRouter();\r\n    \r\n    const goDetail = (id) => {\r\n      router.push({path:'/detail', query:{id}})\r\n    }\r\n\r\n    return{\r\n      goDetail,\r\n    }\r\n    \r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n\r\n.recommend{\r\n  display: flex;\r\n  width: 100%;\r\n  text-align: center;\r\n  padding: 15px 0 30px;   /*上右下左*/\r\n  border-bottom: 8px solid #EEE;   /*底边框 8px 实线*/\r\n  font-size: 12px;\r\n}\r\n\r\n.recommend-item{\r\n  flex: 1;\r\n  img{\r\n    width: 70px;\r\n    height: 70px;\r\n    margin-bottom: 10px;\r\n  }\r\n}\r\n\r\n\r\n</style>","import { render } from \"./RecommendView.vue?vue&type=template&id=aa1742b0&scoped=true\"\nimport script from \"./RecommendView.vue?vue&type=script&lang=js\"\nexport * from \"./RecommendView.vue?vue&type=script&lang=js\"\n\nimport \"./RecommendView.vue?vue&type=style&index=0&id=aa1742b0&scoped=true&lang=scss\"\n\nimport exportComponent from \"D:\\\\1Master\\\\work\\\\前端\\\\Vue高洛峰\\\\myproject\\\\vueproject\\\\ewshop\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-aa1742b0\"]])\n\nexport default __exports__","<template>\r\n<div class=\"tab-control\">\r\n\r\n<!--  <div class=\"tab-control-item\">-->\r\n<!--    <span>畅销</span>-->\r\n<!--  </div>-->\r\n<!--  <div class=\"tab-control-item active\">-->\r\n<!--    <span>新书</span>-->\r\n<!--  </div>-->\r\n<!--  <div class=\"tab-control-item\">-->\r\n<!--    <span>精选</span>-->\r\n<!--  </div>-->\r\n\r\n    <div v-for=\"(item, index) in titles\"\r\n         :key=\"index\"\r\n         @click=\"itemClick(index)\"\r\n         class=\"tab-control-item\" :class=\"{active: currentIndex==index}\">\r\n      <span>{{item}}</span>\r\n    </div>\r\n\r\n\r\n\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {ref} from \"vue\";\r\n\r\nexport default {\r\n  name: \"TabControl\",\r\n  props:{\r\n    titles:{\r\n      type:Array,\r\n      default() {\r\n        return [];\r\n      }\r\n    }\r\n  },\r\n  setup(props, {emit}){\r\n    let currentIndex = ref(0);\r\n\r\n    const itemClick = (index) =>{\r\n      currentIndex.value = index;\r\n      emit('tabClick', index);   // 调用父组件中的事件 tabClick\r\n    }\r\n\r\n    return{\r\n      currentIndex,\r\n      itemClick\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n\r\n.tab-control{\r\n  display: flex;\r\n  height: 40px;\r\n  line-height: 40px;\r\n  text-align: center;\r\n  font-size: 14px;\r\n  background: #FFFFFF;\r\n  width: 100%;\r\n\r\n  position: sticky;  /*滑动到顶部时固定*/\r\n  top: 44px;\r\n  z-index: 10;\r\n\r\n  .tab-control-item{\r\n    flex: 1;\r\n\r\n    span{\r\n      padding: 6px;\r\n    }\r\n  }\r\n\r\n  .active{\r\n    color: var(--color-tint);\r\n\r\n    span{\r\n      border-bottom: 3px solid var(--color-tint);\r\n    }\r\n  }\r\n\r\n}\r\n\r\n\r\n</style>","import { render } from \"./TabControl.vue?vue&type=template&id=e2af481e&scoped=true\"\nimport script from \"./TabControl.vue?vue&type=script&lang=js\"\nexport * from \"./TabControl.vue?vue&type=script&lang=js\"\n\nimport \"./TabControl.vue?vue&type=style&index=0&id=e2af481e&scoped=true&lang=scss\"\n\nimport exportComponent from \"D:\\\\1Master\\\\work\\\\前端\\\\Vue高洛峰\\\\myproject\\\\vueproject\\\\ewshop\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-e2af481e\"]])\n\nexport default __exports__","<template>\r\n  <div>\r\n\r\n    <van-swipe v-if=\"banners.length\" class=\"my-swipe\" :autoplay=\"3000\" indicator-color=\"white\">\r\n      <van-swipe-item v-for=\"(item, index) in banners\" :key=\"index\">\r\n<!--        <img :src=\"item.img_url\" alt=\"\">-->\r\n        <img v-lazy=\"item.img_url\" alt=\"\">\r\n      </van-swipe-item>\r\n    </van-swipe>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"HomeSwiper\",\r\n  props:{\r\n    banners:Array,\r\n    default(){\r\n      return [];\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\nimg{\r\n  width: 100%;\r\n  height: auto;\r\n}\r\n\r\n</style>","import { render } from \"./HomeSwiper.vue?vue&type=template&id=43b07f6c&scoped=true\"\nimport script from \"./HomeSwiper.vue?vue&type=script&lang=js\"\nexport * from \"./HomeSwiper.vue?vue&type=script&lang=js\"\n\nimport \"./HomeSwiper.vue?vue&type=style&index=0&id=43b07f6c&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\1Master\\\\work\\\\前端\\\\Vue高洛峰\\\\myproject\\\\vueproject\\\\ewshop\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-43b07f6c\"]])\n\nexport default __exports__","import { render } from \"./Home.vue?vue&type=template&id=0d5ffc08&scoped=true\"\nimport script from \"./Home.vue?vue&type=script&lang=js\"\nexport * from \"./Home.vue?vue&type=script&lang=js\"\n\nimport \"./Home.vue?vue&type=style&index=0&id=0d5ffc08&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\1Master\\\\work\\\\前端\\\\Vue高洛峰\\\\myproject\\\\vueproject\\\\ewshop\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-0d5ffc08\"]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_Fragment","_renderList","$props","item","_createBlock","_component_goods_list_item","product","key","alt","_createElementVNode","onClick","$setup","cover_url","_toDisplayString","title","_hoisted_4","price","collects_count","name","props","type","Object","default","setup","router","useRouter","itemClick","push","path","query","id","__exports__","components","GoodsListItem","goods","Array","render","ref","_createVNode","_component_nav_bar","_component_tab_control","onTabClick","titles","_component_home_swiper","banners","_component_recommend_view","recommends","_component_goods_list","_component_back_top","onBTop","slice","href","goDetail","index","active","emit","currentIndex","value","length","_component_van_swipe","autoplay","_component_van_swipe_item","img_url","isTabFixed","isShowBackTop","banref","reactive","sales","page","list","recommend","new","currentType","showGoods","computed","bscroll","onMounted","getHomeAllData","then","res","data","slides","getHomeGoods","BScroll","document","querySelector","probeType","click","pullUpLoad","on","position","console","log","offsetHeight","y","clientHeight","finishPullUp","refresh","tabClick","types","nextTick","watchEffect","bTop","scrollTo","NavBar","RecommendView","TabControl","GoodsList","BackTop","HomeSwiper"],"sourceRoot":""}